- name: functions
  hosts: local
  connection: local

  vars:
    technologies: devops, linux, windows, shell, ansible # string
    #dictionary to map
    tags:
     Application: payment
     Environment: dev
   #list  
    listtags:
    - key: Application
      value: payment
    - key: Environment
      value: dev

  tasks:
   - name: default variable
     ansible.builtin.debug:
      msg: "hello, {{name | default('pagadala')}}"

 #string to list
   - name: convert string to list
     ansible.builtin.debug:
      msg: "technologies are: {{ technologies | split(', ') }}"   
 # MAP TO LIST
   - name: convert map to list
     ansible.builtin.debug:
       msg: "tags are: {{ tags | dict2items }}"    
 #convert list to map
   - name: convert list to map
     ansible.builtin.debug:
       msg: "listtags to map is : {{ listtags | items2dict }}"
      # read yml and take it into varibles 
   - name: read yml and take it into varibles
     ansible.builtin.set_fact:
      course_info: "{{ lookup('file', 'vars-file.yaml') | from_yaml }}"   

  #convert yaml into json
   - name: convert yaml into json
     ansible.builtin.debug:
       msg: "convert yaml in to json is : {{ course_info | to_json }}"     

   - name: save json to file
  ansible.builtin.copy:
  dest: ./vars-file.json
  content: "{{ vars-file.yaml | to_nice_json }}"
         